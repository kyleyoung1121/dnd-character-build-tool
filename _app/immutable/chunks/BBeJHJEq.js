import{h as u,u as v,aL as b,aM as m,aJ as A,q as k,z as O,A as g,B as N,C as j,G as d,U as w,F as C,t as D,a2 as K,aN as P,M as E,_ as M,aO as R,aP as T,ai as p,x as q,ah as S,J as y}from"./9HyoZEKl.js";import{c as h}from"./CmgeJE5j.js";function $(e,i,a){u&&v();var s=e,_=w,f,o,r=null,t=b()?m:A;function n(){f&&C(f),r!==null&&(r.lastChild.remove(),s.before(r),r=null),f=o}k(()=>{if(t(_,_=i())){var l=s,c=j();c&&(r=document.createDocumentFragment(),r.append(l=O())),o=g(()=>a(l)),c?N.add_callback(n):n()}}),u&&(s=d)}function z(e,i,a=!1,s=!1,_=!1){var f=e,o="";D(()=>{var r=K;if(o===(o=i()??"")){u&&v();return}if(r.nodes_start!==null&&(P(r.nodes_start,r.nodes_end),r.nodes_start=r.nodes_end=null),o!==""){if(u){d.data;for(var t=v(),n=t;t!==null&&(t.nodeType!==E||t.data!=="");)n=t,t=M(t);if(t===null)throw R(),T;p(d,n),f=q(t);return}var l=o+"";a?l=`<svg>${l}</svg>`:s&&(l=`<math>${l}</math>`);var c=S(l);if((a||s)&&(c=y(c)),p(y(c),c.lastChild),a||s)for(;y(c);)f.before(y(c));else f.before(c)}})}function F(e,i,a){var s=e==null?"":""+e;return i&&(s=s?s+" "+i:i),s===""?null:s}function B(e,i,a,s,_,f){var o=e.__className;if(u||o!==a||o===void 0){var r=F(a,s);(!u||r!==e.getAttribute("class"))&&(r==null?e.removeAttribute("class"):e.className=r),e.__className=a}return f}function G(e,i={},a){h.update(s=>{s._provenance?.[e]&&(s=J(s,e));const _={},f={};for(const[o,r]of Object.entries(i)){const t=o,n=s[t];Array.isArray(n)&&Array.isArray(r)?s[t]=[...n,...r]:(_[t]=n,s[t]=r)}if(a)for(const[o,r]of Object.entries(a)){const t=o,n=s[t];f[t]=n;const l=Number(r)||0,c=typeof n=="number"?n:0;s[t]=c+l}return s._provenance??={},s._provenance[e]={_set:Object.keys(i).length?i:null,_prevScalars:Object.keys(_).length?_:null,_mods:a&&Object.keys(a).length?a:null,_modsPrev:Object.keys(f).length?f:null},s})}function J(e,i){const a=e._provenance?.[i];if(!a)return e;if(!("_set"in a)&&!("_mods"in a)){for(const[r,t]of Object.entries(a)){const n=r;Array.isArray(e[n])&&Array.isArray(t)?e[n]=e[n].filter(l=>!t.includes(l)):e[n]=Array.isArray(t)?[]:null}return delete e._provenance?.[i],e}const{_set:s,_prevScalars:_,_mods:f,_modsPrev:o}=a;if(s)for(const[r,t]of Object.entries(s)){const n=r;if(Array.isArray(t))e[n]=e[n].filter(l=>!t.includes(l));else{const l=_?.[n];e[n]=l??null}}if(f)for(const r of Object.keys(f)){const t=r;if(o&&Object.prototype.hasOwnProperty.call(o,t))e[t]=o[t];else{const n=Number(f[r])||0,l=e[t],c=typeof l=="number"?l:0;e[t]=c-n}}return delete e._provenance?.[i],e}export{G as a,z as h,$ as k,J as r,B as s};
