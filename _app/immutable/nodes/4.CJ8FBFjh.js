import"../chunks/DsnmJJEf.js";import"../chunks/69_IOA4Y.js";import{W as P,ap as O,aq as Q,X as M,Y as b,Z as R,l as e,_ as d,ar as T,A as k,as as W,$ as o,a0 as s,at as A,au as U,av as V,aw as ee,a7 as g}from"../chunks/BOKL8LPc.js";import{g as re,s as _}from"../chunks/BGP3eZCr.js";import{i as te}from"../chunks/BgoevHwW.js";import{e as X,i as Y}from"../chunks/DK8oEai0.js";import{b as ie}from"../chunks/By06J7I7.js";import{i as oe}from"../chunks/DDng5zeD.js";import{c as se}from"../chunks/C9Fx77Xw.js";var ae=M("<option> </option>"),le=M('<div class="grid grid-cols-5 gap-4 items-center py-3 border-b hover:bg-gray-50 transition-colors svelte-1ibodrr"><div class="capitalize font-medium text-gray-800 svelte-1ibodrr"> </div> <select class="border rounded px-2 py-1 w-full focus:outline-none focus:ring-2 focus:ring-indigo-200 svelte-1ibodrr"><option>--</option><!></select> <div class="text-center text-gray-700 font-semibold svelte-1ibodrr"> </div> <div class="text-center text-gray-800 font-semibold svelte-1ibodrr"> </div> <div class="text-center font-mono text-indigo-600 font-bold svelte-1ibodrr"> </div></div>'),ne=M('<div class="container svelte-1ibodrr"><div class="card ability-card mt-4 svelte-1ibodrr"><div class="grid grid-cols-5 gap-4 font-bold border-b pb-2 text-gray-700 svelte-1ibodrr"><div class="svelte-1ibodrr">Ability</div> <div class="svelte-1ibodrr">Score</div> <div class="svelte-1ibodrr">Bonus</div> <div class="svelte-1ibodrr">Total</div> <div class="svelte-1ibodrr">Modifier</div></div> <!></div></div>');function ge(Z,C){P(C,!1);const m=k(),D=[15,14,13,12,10,8],S=["strength","dexterity","constitution","intelligence","wisdom","charisma"];let t=k({strength:null,dexterity:null,constitution:null,intelligence:null,wisdom:null,charisma:null}),i=k({strength:0,dexterity:0,constitution:0,intelligence:0,wisdom:0,charisma:0});function E(l){const r=Math.floor((l-10)/2);return r>=0?`+${r}`:`${r}`}O(()=>e(i),()=>{const r=re(se)._provenance??{};T(i,{strength:0,dexterity:0,constitution:0,intelligence:0,wisdom:0,charisma:0});for(const v in r){const a=r[v]?._mods;if(a)for(const c of S)a[c]!=null&&W(i,e(i)[c]+=a[c])}}),O(()=>e(t),()=>{T(m,Object.values(e(t)).filter(l=>l!==null))}),Q(),oe();var x=ne(),j=o(x),F=d(o(j),2);X(F,1,()=>S,Y,(l,r)=>{var v=le(),a=o(v),c=o(a,!0);s(a);var p=d(a,2);A(()=>{e(t),U(()=>{e(r),e(m)})});var y=o(p);y.value=(y.__value=null)??"";var G=d(y);X(G,1,()=>D,Y,(u,n)=>{var z=V(),K=ee(z);{var L=$=>{var f=ae(),N=o(f,!0);s(f);var B={};A(()=>{_(N,e(n)),B!==(B=e(n))&&(f.value=(f.__value=e(n))??"")}),b($,f)};te(K,$=>{e(m),e(n),e(t),e(r),g(()=>!e(m).includes(e(n))||e(t)[e(r)]===e(n))&&$(L)})}b(u,z)}),s(p);var h=d(p,2),H=o(h,!0);s(h);var w=d(h,2),I=o(w,!0);s(w);var q=d(w,2),J=o(q,!0);s(q),s(v),A(u=>{_(c,e(r)),_(H,(e(i),e(r),g(()=>e(i)[e(r)]??0))),_(I,(e(t),e(r),e(i),g(()=>e(t)[e(r)]!==null?e(t)[e(r)]+(e(i)[e(r)]??0):""))),_(J,u)},[()=>(e(t),e(r),e(i),g(()=>e(t)[e(r)]!==null?E(e(t)[e(r)]+(e(i)[e(r)]??0)):""))]),ie(p,()=>e(t)[e(r)],u=>W(t,e(t)[e(r)]=u)),b(l,v)}),s(j),s(x),b(Z,x),R()}export{ge as component};
