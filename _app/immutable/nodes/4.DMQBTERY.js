import"../chunks/DsnmJJEf.js";import"../chunks/69_IOA4Y.js";import{l as xe,x as Xe,af as T,ag as Te,y as q,am as ne,z as h,A as je,a as e,B as r,s as b,ah as x,ai as j,C as o,E as s,u,aj as w,aL as Ke,al as ze,aM as le,aN as Ne,aO as Oe}from"../chunks/Bdjag3zs.js";import{e as $,g as Ye,s as _}from"../chunks/BVPYibDR.js";import{i as D,s as Fe,a as Ge}from"../chunks/vJ5Czfxm.js";import{a as Je,e as J,i as Q}from"../chunks/So6lF2Dq.js";import{s as Qe}from"../chunks/C6ClwP9-.js";import{b as Ue}from"../chunks/B-vw13G3.js";import{i as Ve}from"../chunks/BbSQGgxI.js";import{c as we}from"../chunks/BMQPE_bs.js";function qe(H,K,ce,te){var U=H.__style;if(xe||U!==K){var S=Je(K);(!xe||S!==H.getAttribute("style"))&&(S==null?H.removeAttribute("style"):H.style.cssText=S),H.__style=K}return te}var Ze=q('<span class="ability-tag capitalize svelte-qm6z2o"> </span>'),et=q('<div class="card class-recommendation-card mb-6 svelte-qm6z2o"><div class="class-rec-header svelte-qm6z2o"><h2 class="svelte-qm6z2o"> </h2></div> <div class="class-rec-content svelte-qm6z2o"><div class="priority-group svelte-qm6z2o"><span class="priority-label svelte-qm6z2o">Most Important:</span> <div class="ability-list svelte-qm6z2o"></div></div></div></div>'),tt=q("<option> </option>"),it=q('<div class="grid grid-cols-5 items-center gap-4 border-b py-3 transition-colors hover:bg-gray-50 svelte-qm6z2o"><button class="ability-name-btn cursor-pointer text-center font-medium text-gray-800 capitalize transition-colors hover:text-indigo-600 hover:underline focus:text-indigo-600 focus:outline-none svelte-qm6z2o"> </button> <select class="w-full rounded border px-2 py-1 focus:ring-2 focus:ring-indigo-200 focus:outline-none svelte-qm6z2o"><option>--</option><!></select> <div class="text-center font-semibold text-gray-700 svelte-qm6z2o"><!></div> <div class="text-center font-semibold text-gray-800 svelte-qm6z2o"> </div> <div class="text-center font-mono font-bold text-indigo-600 svelte-qm6z2o"> </div></div>'),st=q('<li class="svelte-qm6z2o"> </li>'),ot=q('<div class="ability-info-popup svelte-qm6z2o" role="dialog" tabindex="-1"><div class="popup-content svelte-qm6z2o"><div class="popup-header svelte-qm6z2o"><h3 class="popup-title svelte-qm6z2o"> </h3> <button class="popup-close svelte-qm6z2o">×</button></div> <div class="popup-body svelte-qm6z2o"><p class="popup-description svelte-qm6z2o"> </p> <div class="popup-section svelte-qm6z2o"><h4 class="popup-section-title svelte-qm6z2o"> </h4> <ul class="popup-affects-list svelte-qm6z2o"></ul></div></div></div></div>'),at=q('<div class="popup-overlay svelte-qm6z2o"></div>'),rt=q('<div class="modifier-table-row svelte-qm6z2o"><span class="modifier-table-score svelte-qm6z2o"> </span> <span class="modifier-table-mod svelte-qm6z2o"> </span></div>'),nt=q(`<div class="ability-info-popup svelte-qm6z2o" role="dialog" tabindex="-1"><div class="popup-content svelte-qm6z2o"><div class="popup-header svelte-qm6z2o"><h3 class="popup-title svelte-qm6z2o">Ability Score Modifiers</h3> <button class="popup-close svelte-qm6z2o">×</button></div> <div class="popup-body svelte-qm6z2o"><p class="popup-description svelte-qm6z2o">Modifiers represent the bonus or penalty you add to dice rolls based on your ability
					scores.</p> <div class="popup-section svelte-qm6z2o"><div class="modifier-table svelte-qm6z2o"><div class="modifier-table-header svelte-qm6z2o"><span class="modifier-table-label svelte-qm6z2o">Score</span> <span class="modifier-table-label svelte-qm6z2o">Modifier</span></div> <!></div></div></div></div></div>`),lt=q('<div class="popup-overlay svelte-qm6z2o"></div>'),ct=q('<div class="container svelte-qm6z2o"><!> <div class="card ability-card mt-4 svelte-qm6z2o"><div class="grid grid-cols-5 gap-4 border-b pb-2 font-bold text-gray-700 svelte-qm6z2o"><div class="text-center svelte-qm6z2o">Ability</div> <div class="text-center svelte-qm6z2o">Score</div> <div class="text-center svelte-qm6z2o">Species Bonus</div> <div class="text-center svelte-qm6z2o">Total</div> <div class="text-center svelte-qm6z2o"><button class="modifier-header-btn cursor-pointer transition-colors hover:text-indigo-600 hover:underline focus:text-indigo-600 focus:outline-none svelte-qm6z2o" title="Click for more information about modifiers">Modifier ℹ️</button></div></div> <!></div></div> <!> <!> <!> <!>',1);function bt(H,K){Xe(K,!1);const[ce,te]=Fe(),U=()=>Ge(we,"$character_store",ce),S=x(),N=x(),ie=x(),V=x(),Z=x(),ke=[15,14,13,12,10,8],de=["strength","dexterity","constitution","intelligence","wisdom","charisma"],Me={Barbarian:{abilities:["strength","constitution","dexterity"]},Bard:{abilities:["charisma","dexterity","constitution"]},Cleric:{abilities:["wisdom","constitution","strength"]},Druid:{abilities:["wisdom","constitution","dexterity"]},Fighter:{abilities:["strength","dexterity","constitution"]},Monk:{abilities:["dexterity","wisdom","constitution"]},Paladin:{abilities:["strength","charisma","constitution"]},Ranger:{abilities:["dexterity","wisdom","constitution"]},Rogue:{abilities:["dexterity","constitution","wisdom"]},Sorcerer:{abilities:["charisma","constitution","dexterity"]},Warlock:{abilities:["charisma","constitution","dexterity"]},Wizard:{abilities:["intelligence","constitution","dexterity"]}},O={strength:{title:"Strength",description:"Measures your character's physical power and raw muscle. Strength determines how much you can carry and influences melee weapon attacks.",affects:["Melee weapon attack rolls","Melee weapon damage rolls","Carrying capacity","Athletics skill checks","Jumping distance"]},dexterity:{title:"Dexterity",description:"Measures agility, reflexes, and balance. Dexterity affects your Armor Class, initiative, and ranged attacks.",affects:["Armor Class (when not wearing heavy armor)","Initiative rolls","Ranged weapon attacks","Acrobatics and Stealth skills","Dexterity saving throws"]},constitution:{title:"Constitution",description:"Measures health, stamina, and vital force. Constitution affects your hit points and resistance to disease and poison.",affects:["Hit points per level","Constitution saving throws","Concentration checks","Resistance to disease and poison","Death saving throws"]},intelligence:{title:"Intelligence",description:"Measures reasoning ability, memory, and analytical thinking. Intelligence determines your ability to learn and recall information.",affects:["Number of languages known","Investigation and History skills","Wizard spell preparation","Intelligence saving throws","General knowledge and reasoning"]},wisdom:{title:"Wisdom",description:"Measures awareness, intuition, and attunement to surroundings. Wisdom affects perception and insight into others.",affects:["Perception and Insight skills","Wisdom saving throws","Cleric and Druid spell preparation","Passive Perception","Animal Handling and Survival"]},charisma:{title:"Charisma",description:"Measures force of personality, leadership ability, and confidence. Charisma affects social interactions and certain spellcasting.",affects:["Social skill checks (Persuasion, Deception, Intimidation)","Charisma saving throws","Bard, Sorcerer, Warlock spells","Leadership and performance","Number of followers/hirelings"]}};let Y=x(!1),y=x(null),P=x({x:0,y:0}),ee=x(!1),R=x({x:0,y:0});function Ce(i,t){b(y,i);const c=350,a=20,v=window.innerWidth,d=window.innerHeight;let n=t.clientX+10,f=t.clientY-10;n+c>v-a&&(n=t.clientX-c-10),f<a&&(f=a),f>d-200&&(f=d-200),j(P,e(P).x=Math.max(a,n)),j(P,e(P).y=Math.max(a,f)),b(Y,!0),document.addEventListener("keydown",ve)}function ve(i){i.key==="Escape"&&F()}function F(){b(Y,!1),b(y,null),document.removeEventListener("keydown",ve)}function Ae(i){const a=window.innerWidth,v=window.innerHeight;let d=i.clientX+10,n=i.clientY-10;d+300>a-20&&(d=i.clientX-300-10),n<20&&(n=20),n>v-300&&(n=v-300),j(R,e(R).x=Math.max(20,d)),j(R,e(R).y=Math.max(20,n)),b(ee,!0),document.addEventListener("keydown",pe)}function pe(i){i.key==="Escape"&&G()}function G(){b(ee,!1),document.removeEventListener("keydown",pe)}function We(i,t){return i==="Rogue"&&t==="Arcane Trickster"?{abilities:["dexterity","constitution","intelligence"]}:Me[i]||null}let g=x({strength:null,dexterity:null,constitution:null,intelligence:null,wisdom:null,charisma:null}),m=x({strength:0,dexterity:0,constitution:0,intelligence:0,wisdom:0,charisma:0});function $e(i){const t=Math.floor((i-10)/2);return t>=0?`+${t}`:`${t}`}T(()=>U(),()=>{b(S,U())}),T(()=>e(S),()=>{b(N,e(S).class)}),T(()=>e(S),()=>{b(ie,e(S).subclass)}),T(()=>(e(N),e(ie)),()=>{b(V,e(N)?We(e(N),e(ie)):null)}),T(()=>e(m),()=>{const t=Ye(we)._provenance??{};b(m,{strength:0,dexterity:0,constitution:0,intelligence:0,wisdom:0,charisma:0});for(const c in t){const a=t[c]?._mods;if(a)for(const v of de)a[v]!=null&&j(m,e(m)[v]+=a[v])}}),T(()=>e(g),()=>{b(Z,Object.values(e(g)).filter(i=>i!==null))}),Te(),Ve();var ue=ct(),se=ne(ue),me=o(se);{var Se=i=>{var t=et(),c=o(t),a=o(c),v=o(a);s(a),s(c);var d=r(c,2),n=o(d),f=r(o(n),2);J(f,5,()=>(e(V),u(()=>e(V).abilities)),Q,(z,I)=>{var k=Ze(),M=o(k,!0);s(k),w(()=>_(M,e(I))),h(z,k)}),s(f),s(n),s(d),s(t),w(()=>_(v,`${e(N)??""} Ability Recommendations`)),h(i,t)};D(me,i=>{e(V)&&i(Se)})}var fe=r(me,2),oe=o(fe),he=r(o(oe),8),Ie=o(he);s(he),s(oe);var Pe=r(oe,2);J(Pe,1,()=>de,Q,(i,t)=>{var c=it(),a=o(c),v=o(a);s(a);var d=r(a,2);w(()=>{e(g),Ke(()=>{e(t),e(Z)})});var n=o(d);n.value=(n.__value=null)??"";var f=r(n);J(f,1,()=>ke,Q,(l,p)=>{var X=ze(),ae=ne(X);{var re=A=>{var W=tt(),Be=o(W,!0);s(W);var be={};w(()=>{_(Be,e(p)),be!==(be=e(p))&&(W.value=(W.__value=e(p))??"")}),h(A,W)};D(ae,A=>{e(Z),e(p),e(g),e(t),u(()=>!e(Z).includes(e(p))||e(g)[e(t)]===e(p))&&A(re)})}h(l,X)}),s(d);var z=r(d,2),I=o(z);{var k=l=>{var p=le();w(()=>_(p,`+${e(m),e(t),u(()=>e(m)[e(t)])??""}`)),h(l,p)},M=l=>{var p=ze(),X=ne(p);{var ae=A=>{var W=le();w(()=>_(W,(e(m),e(t),u(()=>e(m)[e(t)])))),h(A,W)},re=A=>{var W=le("0");h(A,W)};D(X,A=>{e(m),e(t),u(()=>e(m)[e(t)]<0)?A(ae):A(re,!1)},!0)}h(l,p)};D(I,l=>{e(m),e(t),u(()=>e(m)[e(t)]>0)?l(k):l(M,!1)})}s(z);var L=r(z,2),E=o(L,!0);s(L);var C=r(L,2),B=o(C,!0);s(C),s(c),w(l=>{Qe(a,"title",`Click for more information about ${e(t)??""}`),_(v,`${e(t)??""} ℹ️`),_(E,(e(g),e(t),e(m),u(()=>e(g)[e(t)]!==null?e(g)[e(t)]+(e(m)[e(t)]??0):""))),_(B,l)},[()=>(e(g),e(t),e(m),u(()=>e(g)[e(t)]!==null?$e(e(g)[e(t)]+(e(m)[e(t)]??0)):""))]),$("click",a,l=>Ce(e(t),l)),Ue(d,()=>e(g)[e(t)],l=>j(g,e(g)[e(t)]=l)),h(i,c)}),s(fe),s(se);var ge=r(se,2);{var Re=i=>{var t=ot(),c=o(t),a=o(c),v=o(a),d=o(v,!0);s(v);var n=r(v,2);s(a);var f=r(a,2),z=o(f),I=o(z,!0);s(z);var k=r(z,2),M=o(k),L=o(M);s(M);var E=r(M,2);J(E,5,()=>(e(y),u(()=>O[e(y)].affects)),Q,(C,B)=>{var l=st(),p=o(l,!0);s(l),w(()=>_(p,e(B))),h(C,l)}),s(E),s(k),s(f),s(c),s(t),w(()=>{qe(t,`left: ${e(P),u(()=>e(P).x)??""}px; top: ${e(P),u(()=>e(P).y)??""}px;`),_(d,(e(y),u(()=>O[e(y)].title))),_(I,(e(y),u(()=>O[e(y)].description))),_(L,`What ${e(y),u(()=>O[e(y)].title)??""} affects:`)}),$("click",n,F),$("click",t,F),$("keydown",t,C=>C.key==="Escape"&&F()),h(i,t)};D(ge,i=>{e(Y),e(y),u(()=>e(Y)&&e(y)&&O[e(y)])&&i(Re)})}var _e=r(ge,2);{var Ee=i=>{var t=at();$("click",t,F),h(i,t)};D(_e,i=>{e(Y)&&i(Ee)})}var ye=r(_e,2);{var De=i=>{var t=nt(),c=o(t),a=o(c),v=r(o(a),2);s(a);var d=r(a,2),n=r(o(d),2),f=o(n),z=r(o(f),2);J(z,0,()=>[["8-9",-1],["10-11",0],["12-13",1],["14-15",2],["16-17",3],["18-19",4]],Q,(I,k)=>{var M=Ne(()=>Oe(k,2));let L=()=>e(M)[0],E=()=>e(M)[1];var C=rt(),B=o(C),l=o(B,!0);s(B);var p=r(B,2),X=o(p,!0);s(p),s(C),w(()=>{_(l,L()),_(X,E()>=0?"+"+E():E())}),h(I,C)}),s(f),s(n),s(d),s(c),s(t),w(()=>qe(t,`left: ${e(R),u(()=>e(R).x)??""}px; top: ${e(R),u(()=>e(R).y)??""}px;`)),$("click",v,G),$("click",t,G),$("keydown",t,I=>I.key==="Escape"&&G()),h(i,t)};D(ye,i=>{e(ee)&&i(De)})}var He=r(ye,2);{var Le=i=>{var t=lt();$("click",t,G),h(i,t)};D(He,i=>{e(ee)&&i(Le)})}$("click",Ie,i=>Ae(i)),h(H,ue),je(),te()}export{bt as component};
