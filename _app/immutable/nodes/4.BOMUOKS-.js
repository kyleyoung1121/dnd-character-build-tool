import"../chunks/DsnmJJEf.js";import"../chunks/69_IOA4Y.js";import{q as xe,x as Be,aG as X,aH as Xe,y as q,aD as ne,z as m,A as Ke,a as e,B as r,s as y,ap as x,aI as K,C as a,E as s,u,aE as j,aJ as Te,aK as we,aL as le,aM as Ge,aN as Je}from"../chunks/DP8K6xNq.js";import{e as $,g as Ne,a as g}from"../chunks/sKoe4dLO.js";import{i as D,s as Ye,a as Fe}from"../chunks/D1udGSV0.js";import{a as Oe,e as O,i as Q}from"../chunks/C_WCNbho.js";import{s as Qe}from"../chunks/Cdqfyt8S.js";import{b as Ue}from"../chunks/CsPdG-MN.js";import{i as Ve}from"../chunks/CzQ8VDlG.js";import{c as je}from"../chunks/i-l7_6es.js";function qe(H,T,ce,te){var U=H.__style;if(xe||U!==T){var I=Oe(T);(!xe||I!==H.getAttribute("style"))&&(I==null?H.removeAttribute("style"):H.style.cssText=I),H.__style=T}return te}var Ze=q('<span class="ability-tag capitalize svelte-1qbljtc"> </span>'),et=q('<div class="card class-recommendation-card mb-6 svelte-1qbljtc"><div class="class-rec-header svelte-1qbljtc"><h2 class="svelte-1qbljtc"> </h2></div> <div class="class-rec-content svelte-1qbljtc"><div class="priority-group svelte-1qbljtc"><span class="priority-label svelte-1qbljtc">Most Important:</span> <div class="ability-list svelte-1qbljtc"></div></div></div></div>'),tt=q("<option> </option>"),it=q('<div class="grid grid-cols-5 gap-4 items-center py-3 border-b hover:bg-gray-50 transition-colors svelte-1qbljtc"><button class="ability-name-btn capitalize font-medium text-gray-800 text-center cursor-pointer hover:text-indigo-600 hover:underline focus:outline-none focus:text-indigo-600 transition-colors svelte-1qbljtc"> </button> <select class="border rounded px-2 py-1 w-full focus:outline-none focus:ring-2 focus:ring-indigo-200 svelte-1qbljtc"><option>--</option><!></select> <div class="text-center text-gray-700 font-semibold svelte-1qbljtc"><!></div> <div class="text-center text-gray-800 font-semibold svelte-1qbljtc"> </div> <div class="text-center font-mono text-indigo-600 font-bold svelte-1qbljtc"> </div></div>'),st=q('<li class="svelte-1qbljtc"> </li>'),at=q('<div class="ability-info-popup svelte-1qbljtc" role="dialog" tabindex="-1"><div class="popup-content svelte-1qbljtc"><div class="popup-header svelte-1qbljtc"><h3 class="popup-title svelte-1qbljtc"> </h3> <button class="popup-close svelte-1qbljtc">×</button></div> <div class="popup-body svelte-1qbljtc"><p class="popup-description svelte-1qbljtc"> </p> <div class="popup-section svelte-1qbljtc"><h4 class="popup-section-title svelte-1qbljtc"> </h4> <ul class="popup-affects-list svelte-1qbljtc"></ul></div></div></div></div>'),ot=q('<div class="popup-overlay svelte-1qbljtc"></div>'),rt=q('<div class="modifier-table-row svelte-1qbljtc"><span class="modifier-table-score svelte-1qbljtc"> </span> <span class="modifier-table-mod svelte-1qbljtc"> </span></div>'),nt=q('<div class="ability-info-popup svelte-1qbljtc" role="dialog" tabindex="-1"><div class="popup-content svelte-1qbljtc"><div class="popup-header svelte-1qbljtc"><h3 class="popup-title svelte-1qbljtc">Ability Score Modifiers</h3> <button class="popup-close svelte-1qbljtc">×</button></div> <div class="popup-body svelte-1qbljtc"><p class="popup-description svelte-1qbljtc">Modifiers represent the bonus or penalty you add to dice rolls based on your ability scores.</p> <div class="popup-section svelte-1qbljtc"><div class="modifier-table svelte-1qbljtc"><div class="modifier-table-header svelte-1qbljtc"><span class="modifier-table-label svelte-1qbljtc">Score</span> <span class="modifier-table-label svelte-1qbljtc">Modifier</span></div> <!></div></div></div></div></div>'),lt=q('<div class="popup-overlay svelte-1qbljtc"></div>'),ct=q('<div class="container svelte-1qbljtc"><!> <div class="card ability-card mt-4 svelte-1qbljtc"><div class="grid grid-cols-5 gap-4 font-bold border-b pb-2 text-gray-700 svelte-1qbljtc"><div class="text-center svelte-1qbljtc">Ability</div> <div class="text-center svelte-1qbljtc">Score</div> <div class="text-center svelte-1qbljtc">Species Bonus</div> <div class="text-center svelte-1qbljtc">Total</div> <div class="text-center svelte-1qbljtc"><button class="modifier-header-btn cursor-pointer hover:text-indigo-600 hover:underline focus:outline-none focus:text-indigo-600 transition-colors svelte-1qbljtc" title="Click for more information about modifiers">Modifier ℹ️</button></div></div> <!></div></div> <!> <!> <!> <!>',1);function yt(H,T){Be(T,!1);const[ce,te]=Ye(),U=()=>Fe(je,"$character_store",ce),I=x(),G=x(),ie=x(),V=x(),Z=x(),ke=[15,14,13,12,10,8],de=["strength","dexterity","constitution","intelligence","wisdom","charisma"],Me={Barbarian:{abilities:["strength","constitution","dexterity"]},Bard:{abilities:["charisma","dexterity","constitution"]},Cleric:{abilities:["wisdom","constitution","strength"]},Druid:{abilities:["wisdom","constitution","dexterity"]},Fighter:{abilities:["strength","dexterity","constitution"]},Monk:{abilities:["dexterity","wisdom","constitution"]},Paladin:{abilities:["strength","charisma","constitution"]},Ranger:{abilities:["dexterity","wisdom","constitution"]},Rogue:{abilities:["dexterity","constitution","wisdom"]},Sorcerer:{abilities:["charisma","constitution","dexterity"]},Warlock:{abilities:["charisma","constitution","dexterity"]},Wizard:{abilities:["intelligence","constitution","dexterity"]}},J={strength:{title:"Strength",description:"Measures your character's physical power and raw muscle. Strength determines how much you can carry and influences melee weapon attacks.",affects:["Melee weapon attack rolls","Melee weapon damage rolls","Carrying capacity","Athletics skill checks","Jumping distance"]},dexterity:{title:"Dexterity",description:"Measures agility, reflexes, and balance. Dexterity affects your Armor Class, initiative, and ranged attacks.",affects:["Armor Class (when not wearing heavy armor)","Initiative rolls","Ranged weapon attacks","Acrobatics and Stealth skills","Dexterity saving throws"]},constitution:{title:"Constitution",description:"Measures health, stamina, and vital force. Constitution affects your hit points and resistance to disease and poison.",affects:["Hit points per level","Constitution saving throws","Concentration checks","Resistance to disease and poison","Death saving throws"]},intelligence:{title:"Intelligence",description:"Measures reasoning ability, memory, and analytical thinking. Intelligence determines your ability to learn and recall information.",affects:["Number of languages known","Investigation and History skills","Wizard spell preparation","Intelligence saving throws","General knowledge and reasoning"]},wisdom:{title:"Wisdom",description:"Measures awareness, intuition, and attunement to surroundings. Wisdom affects perception and insight into others.",affects:["Perception and Insight skills","Wisdom saving throws","Cleric and Druid spell preparation","Passive Perception","Animal Handling and Survival"]},charisma:{title:"Charisma",description:"Measures force of personality, leadership ability, and confidence. Charisma affects social interactions and certain spellcasting.",affects:["Social skill checks (Persuasion, Deception, Intimidation)","Charisma saving throws","Bard, Sorcerer, Warlock spells","Leadership and performance","Number of followers/hirelings"]}};let N=x(!1),_=x(null),E=x({x:0,y:0}),ee=x(!1),P=x({x:0,y:0});function Ce(i,t){y(_,i);const c=350,o=20,v=window.innerWidth,d=window.innerHeight;let n=t.clientX+10,b=t.clientY-10;n+c>v-o&&(n=t.clientX-c-10),b<o&&(b=o),b>d-200&&(b=d-200),K(E,e(E).x=Math.max(o,n)),K(E,e(E).y=Math.max(o,b)),y(N,!0),document.addEventListener("keydown",ve)}function ve(i){i.key==="Escape"&&Y()}function Y(){y(N,!1),y(_,null),document.removeEventListener("keydown",ve)}function Ae(i){const o=window.innerWidth,v=window.innerHeight;let d=i.clientX+10,n=i.clientY-10;d+300>o-20&&(d=i.clientX-300-10),n<20&&(n=20),n>v-300&&(n=v-300),K(P,e(P).x=Math.max(20,d)),K(P,e(P).y=Math.max(20,n)),y(ee,!0),document.addEventListener("keydown",pe)}function pe(i){i.key==="Escape"&&F()}function F(){y(ee,!1),document.removeEventListener("keydown",pe)}function We(i,t){return i==="Rogue"&&t==="Arcane Trickster"?{abilities:["dexterity","constitution","intelligence"]}:Me[i]||null}let h=x({strength:null,dexterity:null,constitution:null,intelligence:null,wisdom:null,charisma:null}),f=x({strength:0,dexterity:0,constitution:0,intelligence:0,wisdom:0,charisma:0});function $e(i){const t=Math.floor((i-10)/2);return t>=0?`+${t}`:`${t}`}X(()=>U(),()=>{y(I,U())}),X(()=>e(I),()=>{y(G,e(I).class)}),X(()=>e(I),()=>{y(ie,e(I).subclass)}),X(()=>(e(G),e(ie)),()=>{y(V,e(G)?We(e(G),e(ie)):null)}),X(()=>e(f),()=>{const t=Ne(je)._provenance??{};y(f,{strength:0,dexterity:0,constitution:0,intelligence:0,wisdom:0,charisma:0});for(const c in t){const o=t[c]?._mods;if(o)for(const v of de)o[v]!=null&&K(f,e(f)[v]+=o[v])}}),X(()=>e(h),()=>{y(Z,Object.values(e(h)).filter(i=>i!==null))}),Xe(),Ve();var ue=ct(),se=ne(ue),fe=a(se);{var Ie=i=>{var t=et(),c=a(t),o=a(c),v=a(o);s(o),s(c);var d=r(c,2),n=a(d),b=r(a(n),2);O(b,5,()=>(e(V),u(()=>e(V).abilities)),Q,(w,S)=>{var k=Ze(),M=a(k,!0);s(k),j(()=>g(M,e(S))),m(w,k)}),s(b),s(n),s(d),s(t),j(()=>g(v,`${e(G)??""} Ability Recommendations`)),m(i,t)};D(fe,i=>{e(V)&&i(Ie)})}var be=r(fe,2),ae=a(be),me=r(a(ae),8),Se=a(me);s(me),s(ae);var Ee=r(ae,2);O(Ee,1,()=>de,Q,(i,t)=>{var c=it(),o=a(c),v=a(o);s(o);var d=r(o,2);j(()=>{e(h),Te(()=>{e(t),e(Z)})});var n=a(d);n.value=(n.__value=null)??"";var b=r(n);O(b,1,()=>ke,Q,(l,p)=>{var B=we(),oe=ne(B);{var re=A=>{var W=tt(),ze=a(W,!0);s(W);var ye={};j(()=>{g(ze,e(p)),ye!==(ye=e(p))&&(W.value=(W.__value=e(p))??"")}),m(A,W)};D(oe,A=>{e(Z),e(p),e(h),e(t),u(()=>!e(Z).includes(e(p))||e(h)[e(t)]===e(p))&&A(re)})}m(l,B)}),s(d);var w=r(d,2),S=a(w);{var k=l=>{var p=le();j(()=>g(p,`+${e(f),e(t),u(()=>e(f)[e(t)])??""}`)),m(l,p)},M=l=>{var p=we(),B=ne(p);{var oe=A=>{var W=le();j(()=>g(W,(e(f),e(t),u(()=>e(f)[e(t)])))),m(A,W)},re=A=>{var W=le("0");m(A,W)};D(B,A=>{e(f),e(t),u(()=>e(f)[e(t)]<0)?A(oe):A(re,!1)},!0)}m(l,p)};D(S,l=>{e(f),e(t),u(()=>e(f)[e(t)]>0)?l(k):l(M,!1)})}s(w);var L=r(w,2),R=a(L,!0);s(L);var C=r(L,2),z=a(C,!0);s(C),s(c),j(l=>{Qe(o,"title",`Click for more information about ${e(t)??""}`),g(v,`${e(t)??""} ℹ️`),g(R,(e(h),e(t),e(f),u(()=>e(h)[e(t)]!==null?e(h)[e(t)]+(e(f)[e(t)]??0):""))),g(z,l)},[()=>(e(h),e(t),e(f),u(()=>e(h)[e(t)]!==null?$e(e(h)[e(t)]+(e(f)[e(t)]??0)):""))]),$("click",o,l=>Ce(e(t),l)),Ue(d,()=>e(h)[e(t)],l=>K(h,e(h)[e(t)]=l)),m(i,c)}),s(be),s(se);var he=r(se,2);{var Pe=i=>{var t=at(),c=a(t),o=a(c),v=a(o),d=a(v,!0);s(v);var n=r(v,2);s(o);var b=r(o,2),w=a(b),S=a(w,!0);s(w);var k=r(w,2),M=a(k),L=a(M);s(M);var R=r(M,2);O(R,5,()=>(e(_),u(()=>J[e(_)].affects)),Q,(C,z)=>{var l=st(),p=a(l,!0);s(l),j(()=>g(p,e(z))),m(C,l)}),s(R),s(k),s(b),s(c),s(t),j(()=>{qe(t,`left: ${e(E),u(()=>e(E).x)??""}px; top: ${e(E),u(()=>e(E).y)??""}px;`),g(d,(e(_),u(()=>J[e(_)].title))),g(S,(e(_),u(()=>J[e(_)].description))),g(L,`What ${e(_),u(()=>J[e(_)].title)??""} affects:`)}),$("click",n,Y),$("click",t,Y),$("keydown",t,C=>C.key==="Escape"&&Y()),m(i,t)};D(he,i=>{e(N),e(_),u(()=>e(N)&&e(_)&&J[e(_)])&&i(Pe)})}var ge=r(he,2);{var Re=i=>{var t=ot();$("click",t,Y),m(i,t)};D(ge,i=>{e(N)&&i(Re)})}var _e=r(ge,2);{var De=i=>{var t=nt(),c=a(t),o=a(c),v=r(a(o),2);s(o);var d=r(o,2),n=r(a(d),2),b=a(n),w=r(a(b),2);O(w,0,()=>[["8-9",-1],["10-11",0],["12-13",1],["14-15",2],["16-17",3],["18-19",4]],Q,(S,k)=>{var M=Ge(()=>Je(k,2));let L=()=>e(M)[0],R=()=>e(M)[1];var C=rt(),z=a(C),l=a(z,!0);s(z);var p=r(z,2),B=a(p,!0);s(p),s(C),j(()=>{g(l,L()),g(B,R()>=0?"+"+R():R())}),m(S,C)}),s(b),s(n),s(d),s(c),s(t),j(()=>qe(t,`left: ${e(P),u(()=>e(P).x)??""}px; top: ${e(P),u(()=>e(P).y)??""}px;`)),$("click",v,F),$("click",t,F),$("keydown",t,S=>S.key==="Escape"&&F()),m(i,t)};D(_e,i=>{e(ee)&&i(De)})}var He=r(_e,2);{var Le=i=>{var t=lt();$("click",t,F),m(i,t)};D(He,i=>{e(ee)&&i(Le)})}$("click",Se,i=>Ae(i)),m(H,ue),Ke(),te()}export{yt as component};
