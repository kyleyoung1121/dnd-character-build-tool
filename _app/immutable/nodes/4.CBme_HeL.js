import"../chunks/DsnmJJEf.js";import"../chunks/69_IOA4Y.js";import{p as V,aD as E,aE as W,f as $,a as b,b as X,c as d,s as F,m as M,aF as G,g as e,d as o,r as s,t as S,aG as Y,aH as Z,aI as ee,a9 as g}from"../chunks/9HyoZEKl.js";import{s as u}from"../chunks/Ctv6Y3sX.js";import{i as re}from"../chunks/AS500ewO.js";import{e as H,i as I}from"../chunks/DPnaLD9x.js";import{b as te}from"../chunks/BBLEnC_4.js";import{i as ie}from"../chunks/COf3pbVr.js";import{g as oe}from"../chunks/CRq_CVjm.js";import{c as se}from"../chunks/CmgeJE5j.js";var ae=$("<option> </option>"),le=$('<div class="grid grid-cols-5 gap-4 items-center py-3 border-b hover:bg-gray-50 transition-colors svelte-1ibodrr"><div class="capitalize font-medium text-gray-800 svelte-1ibodrr"> </div> <select class="border rounded px-2 py-1 w-full focus:outline-none focus:ring-2 focus:ring-indigo-200 svelte-1ibodrr"><option>--</option><!></select> <div class="text-center text-gray-700 font-semibold svelte-1ibodrr"> </div> <div class="text-center text-gray-800 font-semibold svelte-1ibodrr"> </div> <div class="text-center font-mono text-indigo-600 font-bold svelte-1ibodrr"> </div></div>'),ne=$('<div class="container svelte-1ibodrr"><div class="card ability-card mt-4 svelte-1ibodrr"><div class="grid grid-cols-5 gap-4 font-bold border-b pb-2 text-gray-700 svelte-1ibodrr"><div class="svelte-1ibodrr">Ability</div> <div class="svelte-1ibodrr">Score</div> <div class="svelte-1ibodrr">Bonus</div> <div class="svelte-1ibodrr">Total</div> <div class="svelte-1ibodrr">Modifier</div></div> <!></div></div>');function xe(O,T){V(T,!1);const _=M(),q=[15,14,13,12,10,8],A=["strength","dexterity","constitution","intelligence","wisdom","charisma"];let t=M({strength:null,dexterity:null,constitution:null,intelligence:null,wisdom:null,charisma:null}),i=M({strength:0,dexterity:0,constitution:0,intelligence:0,wisdom:0,charisma:0});function C(l){const r=Math.floor((l-10)/2);return r>=0?`+${r}`:`${r}`}E(()=>e(i),()=>{const r=oe(se)._provenance??{};F(i,{strength:0,dexterity:0,constitution:0,intelligence:0,wisdom:0,charisma:0});for(const v in r){const a=r[v]?._mods;if(a)for(const c of A)a[c]!=null&&G(i,e(i)[c]+=a[c])}}),E(()=>e(t),()=>{F(_,Object.values(e(t)).filter(l=>l!==null))}),W(),ie();var x=ne(),j=o(x),J=d(o(j),2);H(J,1,()=>A,I,(l,r)=>{var v=le(),a=o(v),c=o(a,!0);s(a);var p=d(a,2);S(()=>{e(t),Y(()=>{e(r),e(_)})});var y=o(p);y.value=(y.__value=null)??"";var K=d(y);H(K,1,()=>q,I,(f,n)=>{var B=Z(),Q=ee(B);{var R=k=>{var m=ae(),U=o(m,!0);s(m);var D={};S(()=>{u(U,e(n)),D!==(D=e(n))&&(m.value=(m.__value=e(n))??"")}),b(k,m)};re(Q,k=>{e(_),e(n),e(t),e(r),g(()=>!e(_).includes(e(n))||e(t)[e(r)]===e(n))&&k(R)})}b(f,B)}),s(p);var h=d(p,2),L=o(h,!0);s(h);var w=d(h,2),N=o(w,!0);s(w);var z=d(w,2),P=o(z,!0);s(z),s(v),S(f=>{u(c,e(r)),u(L,(e(i),e(r),g(()=>e(i)[e(r)]??0))),u(N,(e(t),e(r),e(i),g(()=>e(t)[e(r)]!==null?e(t)[e(r)]+(e(i)[e(r)]??0):""))),u(P,f)},[()=>(e(t),e(r),e(i),g(()=>e(t)[e(r)]!==null?C(e(t)[e(r)]+(e(i)[e(r)]??0)):""))]),te(p,()=>e(t)[e(r)],f=>G(t,e(t)[e(r)]=f)),b(l,v)}),s(j),s(x),b(O,x),X()}export{xe as component};
