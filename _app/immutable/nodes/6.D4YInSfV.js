import"../chunks/DsnmJJEf.js";import"../chunks/69_IOA4Y.js";import{aA as x,h as ce,a as ve,J as Pe,aL as Ae,k as de,C as Oe,B as Ce,aI as De,aH as Te,ac as me,s as xe,ab as Ne,l as X,ad as Fe,w as Re,aM as We,aN as Me,R as Ye,aO as $e,aP as Le,S as A,T as S,V as ze,aq as O,m as e,t as G,W as l,X as i,Y as s,a3 as n,az as Be,aQ as ue}from"../chunks/6NDaa6wj.js";import{s as P,e as L}from"../chunks/DU6mHfaJ.js";import{i as K}from"../chunks/B3LOdQwn.js";import{e as z,i as Z}from"../chunks/CPfjVS8W.js";import{s as se}from"../chunks/R2tn418E.js";import{i as Ee}from"../chunks/DS2AK8Rz.js";import{b as _e}from"../chunks/C7qDnjSw.js";function pe(m,b,N=!1,w=!1,d=!1){var _=m,o="";x(()=>{var F=Pe;if(o===(o=b()??"")){ce&&ve();return}if(F.nodes_start!==null&&(Ae(F.nodes_start,F.nodes_end),F.nodes_start=F.nodes_end=null),o!==""){if(ce){de.data;for(var y=ve(),j=y;y!==null&&(y.nodeType!==Oe||y.data!=="");)j=y,y=Ce(y);if(y===null)throw De(),Te;me(de,j),_=xe(y);return}var R=o+"";N?R=`<svg>${R}</svg>`:w&&(R=`<math>${R}</math>`);var C=Ne(R);if((N||w)&&(C=X(C)),me(X(C),C.lastChild),N||w)for(;X(C);)_.before(X(C));else _.before(C)}})}function fe(m,b,N=!1){if(m.multiple){if(b==null)return;if(!Re(b))return We();for(var w of m.options)w.selected=b.includes(he(w));return}for(w of m.options){var d=he(w);if(Me(d,b)){w.selected=!0;return}}(!N||b!==void 0)&&(m.selectedIndex=-1)}function He(m){var b=new MutationObserver(()=>{fe(m,m.__value)});b.observe(m,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Fe(()=>{b.disconnect()})}function he(m){return"__value"in m?m.__value:m.value}const Ie={name:"Skill Proficiencies",description:`
		Armor: Light armor, medium armor, shields <br>
		Weapons: Simple weapons, martial weapons <br>
		Saving Throws: Strength, Constitution <br>
		Skills: Choose two from Animal Handling, Athletics, Intimidation, Nature, Perception, and Survival
	`,featureOptions:{placeholderText:"",options:["Animal Handling","Athletics","Intimidation","Nature","Perception","Survival"],numPicks:2},source:"barbarian.proficiencies"},qe={name:"Primal Path",description:"Choose a path that shapes the nature of your rage.",featureOptions:{placeholderText:"-Choose an Option-",options:[{name:"Berserker",optionDescription:" 					For some barbarians, rage is a means to an end — that end being violence. 					The Path of the Berserker is a path of untrammeled fury, slick with blood. 					As you enter the berserker’s rage, you thrill in the chaos of battle, heedless of your own health or well-being. 				",nestedPrompts:[{name:"Frenzy",description:" 							Starting when you choose this path at 3rd level, you can go into a frenzy when you rage. 							If you do so, for the duration of your rage you can make a single melee weapon attack as a bonus action on each of your turns after this one. 							When your rage ends, you suffer one level of exhaustion. 						",source:"barbarian.berserker"}]},{name:"Totem Warrior",optionDescription:" 					The Path of the Totem Warrior is a spiritual journey, as the barbarian accepts a spirit animal as guide, protector, and inspiration. 					In battle, your totem spirit fills you with supernatural might, adding magical fuel to your barbarian rage. 				",nestedPrompts:[{name:"Spirit Seeker",description:" 							Yours is a path that seeks attunement with the natural world, giving you a kinship with beasts. 							You gain the ability to cast the beast sense and speak with animals spells, 							but only as rituals, as described in the Spellcasting section. 						",source:"barbarian.totem_warrior"},{name:"Totem Spirit",description:" 							Choose a totem spirit and gain its feature. 							At 3rd level when you adopt this path, you gain the ability to cast the beast sense and speak with animals spells, 							but only as rituals, as described in the Spellcasting section. 						",source:"barbarian.totem_warrior"}]}],numPicks:1},source:"barbarian"},je=[{name:"Rage",description:"In battle, you fight with primal ferocity. You can enter a rage as a bonus action...",source:"barbarian"},{name:"Unarmored Defense",description:"While not wearing armor, your AC equals 10 + Dex modifier + Con modifier.",source:"barbarian"},{name:"Reckless Attack",description:"You can throw aside all concern for defense to attack with fierce desperation.",source:"barbarian"},{name:"Danger Sense",description:"You have advantage on Dexterity saving throws against effects you can see.",source:"barbarian"}],Je={name:"Barbarian",image:_e+"/class_icons/barbarian.jpg",description:"Frenzied warriors fueled by primal rage.",hitDie:"d12",primaryAbility:"Strength",saves:["Strength","Constitution"],armorProficiencies:["Light Armor","Medium Armor","Shields"],weaponProficiencies:["Simple Weapons","Martial Weapons"],classFeatures:[Ie,...je,qe]};var Qe=A('<button class="class-card svelte-kwt7ml"><div class="card-left svelte-kwt7ml"><img class="svelte-kwt7ml"/> <span> </span></div> <img class="card-arrow svelte-kwt7ml" alt="next arrow"/></button>'),Ue=A('<div class="class-cards svelte-kwt7ml"></div>'),Ve=A('<div class="feature-card svelte-kwt7ml"><h4 class="svelte-kwt7ml"> </h4> <p><!></p></div>'),Xe=A('<div class="popup svelte-kwt7ml"><div class="popup-content svelte-kwt7ml"><div class="popup-header svelte-kwt7ml"><span>CONFIRM ADD CLASS</span> <button class="close-button svelte-kwt7ml">×</button></div> <div class="popup-body svelte-kwt7ml"><h2> </h2> <p class="description svelte-kwt7ml"> </p> <p><strong>Primary Ability:</strong> </p> <!></div> <div class="popup-footer svelte-kwt7ml"><button class="cancel-button">Cancel</button> <button class="add-button">Add Class</button></div></div></div>'),Ge=A("<option> </option>"),Ke=A('<select class="svelte-kwt7ml"><option disabled selected> </option><!></select>'),Ze=A('<div class="feature-card nested svelte-kwt7ml"><h4 class="svelte-kwt7ml"> </h4> <p> </p></div>'),ea=A("<!> <!>",1),aa=A('<div class="feature-card svelte-kwt7ml"><h4 class="svelte-kwt7ml"> </h4> <p><!></p> <!></div>'),ta=A('<div class="selected-class-section svelte-kwt7ml"><h2 class="svelte-kwt7ml"> <button aria-label="Remove selected class" class="svelte-kwt7ml">✕</button></h2> <!></div>'),ra=A(`<div class="main-content svelte-kwt7ml"><h2>Class Selection</h2> <p>In Dungeons & Dragons, your character's class defines their role in the party,
		abilities, and how they interact with the world. Each class offers unique strengths,
		weaknesses, and ways to play.</p> <!> <!> <!></div>`);function ua(m,b){Ye(b,!1);const N=G(),w=[Je];let d=G(null),_=G(null),o=G({});function F(t,c,v){e(o)[t.name]||ue(o,e(o)[t.name]=Array(t.featureOptions?.numPicks||1).fill(null));const r=e(o)[t.name][c];ue(o,e(o)[t.name][c]=v),r!==v&&y(t,e(o))}function y(t,c){if(t.featureOptions){for(const v of t.featureOptions.options)if(typeof v!="string"&&v.nestedPrompts)for(const r of v.nestedPrompts)delete c[r.name]}}function j(t,c){const v=t.featureOptions?.options||[],r=e(o)[t.name]||[];return v.filter(u=>{const k=typeof u=="string"?u:u.name;return!r.some((f,a)=>f===k&&a!==c)})}function R(t,c){if(!t.featureOptions)return[];const v=[];for(const r of t.featureOptions.options){const u=typeof r=="string"?r:r.name;c.includes(u)&&typeof r!="string"&&r.nestedPrompts&&v.push(...r.nestedPrompts)}return v}function C(){O(_,null),O(d,null),O(o,{})}function be(){e(d)&&(O(_,e(d)),O(d,null),O(o,{}))}$e(()=>e(_),()=>{O(N,e(_)?[...e(_).classFeatures||[]]:[])}),Le(),Ee();var ee=ra(),ie=l(i(ee),4);{var ge=t=>{var c=Ue();z(c,5,()=>w,Z,(v,r)=>{var u=Qe(),k=i(u),f=i(k),a=l(f,2),D=i(a,!0);s(a),s(k);var W=l(k,2);s(u),x(()=>{se(f,"src",(e(r),n(()=>e(r).image))),se(f,"alt",(e(r),n(()=>`${e(r).name} icon`))),P(D,(e(r),n(()=>e(r).name))),se(W,"src",`${_e??""}/basic_icons/blue_next.png`)}),L("click",u,()=>O(d,e(r))),S(v,u)}),s(c),S(t,c)};K(ie,t=>{e(_)||t(ge)})}var ne=l(ie,2);{var we=t=>{var c=Xe(),v=i(c),r=i(v),u=l(i(r),2);s(r);var k=l(r,2),f=i(k),a=i(f,!0);s(f);var D=l(f,2),W=i(D,!0);s(D);var B=l(D,2),E=l(i(B));s(B);var ae=l(B,2);z(ae,1,()=>(e(d),n(()=>e(d).classFeatures)),Z,(U,M)=>{var I=Ve(),T=i(I),Y=i(T,!0);s(T);var g=l(T,2),p=i(g);pe(p,()=>(e(M),n(()=>e(M).description))),s(g),s(I),x(()=>P(Y,(e(M),n(()=>e(M).name)))),S(U,I)}),s(k);var J=l(k,2),Q=i(J),H=l(Q,2);s(J),s(v),s(c),x(()=>{P(a,(e(d),n(()=>e(d).name))),P(W,(e(d),n(()=>e(d).description))),P(E,` ${e(d),n(()=>e(d).primaryAbility)??""}`)}),L("click",u,()=>O(d,null)),L("click",Q,()=>O(d,null)),L("click",H,be),S(t,c)};K(ne,t=>{e(d)&&t(we)})}var ye=l(ne,2);{var ke=t=>{var c=ta(),v=i(c),r=i(v),u=l(r);s(v);var k=l(v,2);z(k,1,()=>e(N),f=>f.name,(f,a)=>{var D=aa(),W=i(D),B=i(W,!0);s(W);var E=l(W,2),ae=i(E);pe(ae,()=>(e(a),n(()=>e(a).description))),s(E);var J=l(E,2);{var Q=H=>{var U=ea(),M=Be(U);z(M,1,()=>(e(a),n(()=>Array(e(a).featureOptions.numPicks))),Z,(T,Y,g)=>{var p=Ke(),$=i(p),V=i($,!0);s($),$.value=$.__value="";var te=l($);z(te,1,()=>(e(a),n(()=>j(e(a),g))),Z,(re,h)=>{var q=Ge(),Se=i(q,!0);s(q);var le={};x(()=>{P(Se,(e(h),n(()=>typeof e(h)=="string"?e(h):e(h).name))),le!==(le=(e(h),n(()=>typeof e(h)=="string"?e(h):e(h).name)))&&(q.value=(q.__value=(e(h),n(()=>typeof e(h)=="string"?e(h):e(h).name)))??"")}),S(re,q)}),s(p);var oe;He(p),x(()=>{P(V,(e(a),n(()=>e(a).featureOptions.placeholderText||"Select an option"))),oe!==(oe=(e(o),e(a),n(()=>e(o)[e(a).name]?.[g]||"")))&&(p.value=(p.__value=(e(o),e(a),n(()=>e(o)[e(a).name]?.[g]||"")))??"",fe(p,(e(o),e(a),n(()=>e(o)[e(a).name]?.[g]||""))))}),L("change",p,re=>{const h=re.target;F(e(a),g,h.value)}),S(T,p)});var I=l(M,2);z(I,1,()=>(e(a),e(o),n(()=>R(e(a),e(o)[e(a).name]||[]))),T=>T.name,(T,Y)=>{var g=Ze(),p=i(g),$=i(p,!0);s(p);var V=l(p,2),te=i(V,!0);s(V),s(g),x(()=>{P($,(e(Y),n(()=>e(Y).name))),P(te,(e(Y),n(()=>e(Y).description)))}),S(T,g)}),S(H,U)};K(J,H=>{e(a),n(()=>e(a).featureOptions)&&H(Q)})}s(D),x(()=>P(B,(e(a),n(()=>e(a).name)))),S(f,D)}),s(c),x(()=>P(r,`${e(_),n(()=>e(_).name)??""} `)),L("click",u,C),S(t,c)};K(ye,t=>{e(_)&&t(ke)})}s(ee),S(m,ee),ze()}export{ua as component};
