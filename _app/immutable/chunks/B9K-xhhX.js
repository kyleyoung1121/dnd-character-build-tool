import{al as H,h as B,Y as F,k as X,aR as tt,a3 as M,ab as et,ad as at,aS as st,aT as it,_ as A,af as rt,Z as nt,a4 as W,y as lt,ah as L,ai as ft,an as ot,ao as O,A as b,B as ct,a8 as dt,d as a,j as G,aj as j,v as D,z as R,E as h,C as y,F as o,aM as ht}from"./D8epjS11.js";import"./DsnmJJEf.js";import"./CQMj6I71.js";import{s as E,e as ut}from"./BiH1rH3r.js";import{i as z,s as pt,a as vt}from"./DNOeg3kL.js";import{e as gt,i as mt}from"./Cf40ah7q.js";import{i as _t}from"./nRLFwT7N.js";import{p as kt}from"./D50GnoSP.js";import{a as Wt}from"./geuvUz3z.js";import{g as bt}from"./wOBU2gXn.js";function Bt(C,m,p=!1,v=!1,x=!1){var i=C,c="";H(()=>{var r=X;if(c===(c=m()??"")){B&&F();return}if(r.nodes_start!==null&&(tt(r.nodes_start,r.nodes_end),r.nodes_start=r.nodes_end=null),c!==""){if(B){M.data;for(var s=F(),_=s;s!==null&&(s.nodeType!==et||s.data!=="");)_=s,s=at(s);if(s===null)throw st(),it;A(M,_),i=rt(s);return}var d=c+"";p?d=`<svg>${d}</svg>`:v&&(d=`<math>${d}</math>`);var n=nt(d);if((p||v)&&(n=W(n)),A(W(n),n.lastChild),p||v)for(;W(n);)i.before(W(n));else i.before(n)}})}var yt=R('<div class="conflict-item svelte-1ddlxke"><div class="conflict-description svelte-1ddlxke"> </div> <div class="conflict-resolution svelte-1ddlxke"><strong>Resolution:</strong> </div></div>'),Ct=R('<div class="conflicts-list svelte-1ddlxke"></div> <div class="guidance-section svelte-1ddlxke"><p class="svelte-1ddlxke">Go to the highlighted tabs and make different selections to avoid duplicates.</p></div>',1),xt=R('<div class="conflict-warning-container svelte-1ddlxke"><div class="conflict-warning svelte-1ddlxke"><button class="warning-header svelte-1ddlxke"><div class="header-content svelte-1ddlxke"><span class="warning-icon svelte-1ddlxke">⚠️</span> <h3 class="svelte-1ddlxke">Conflicts Detected</h3></div> <span class="expand-indicator svelte-1ddlxke"> </span></button> <!></div></div>');function Ft(C,m){lt(m,!1);const[p,v]=pt(),x=()=>vt(Wt,"$activeConflicts",p),i=j();let c=kt(m,"tabName",8,""),r=j(!1);function s(){G(r,!a(r))}function _(e){const g={skill:"Skill",proficiency:"Proficiency",language:"Language",feature:"Feature"}[e.type]||e.type,u=e.sources.map(t=>{if(t.startsWith("class:"))return`${t.split(":")[1]} class`;if(t.startsWith("bard."))return"Bard class";if(t.startsWith("fighter."))return"Fighter class";if(t.startsWith("cleric."))return"Cleric class";if(t.startsWith("rogue."))return"Rogue class";if(t.startsWith("ranger."))return"Ranger class";if(t.startsWith("wizard."))return"Wizard class";if(t.startsWith("sorcerer."))return"Sorcerer class";if(t.startsWith("warlock."))return"Warlock class";if(t.startsWith("paladin."))return"Paladin class";if(t.startsWith("barbarian."))return"Barbarian class";if(t.startsWith("monk."))return"Monk class";if(t.startsWith("druid."))return"Druid class";if(t.startsWith("race:")||t.startsWith("species:"))return`${t.split(":")[1]} species`;if(t.startsWith("high_elf."))return"High Elf species";if(t.startsWith("hill_dwarf."))return"Hill Dwarf species";if(t.startsWith("wood_elf."))return"Wood Elf species";if(t.startsWith("dark_elf."))return"Dark Elf species";if(t.startsWith("mountain_dwarf."))return"Mountain Dwarf species";if(t.startsWith("lightfoot_halfling."))return"Lightfoot Halfling species";if(t.startsWith("stout_halfling."))return"Stout Halfling species";if(t.startsWith("rock_gnome."))return"Rock Gnome species";if(t.startsWith("forest_gnome."))return"Forest Gnome species";if(t.startsWith("half_elf."))return"Half-Elf species";if(t.startsWith("half_orc."))return"Half-Orc species";if(t.startsWith("dragonborn."))return"Dragonborn species";if(t.startsWith("tiefling."))return"Tiefling species";if(t.startsWith("human."))return"Human species";if(t.startsWith("variant_human."))return"Variant Human species";if(t.startsWith("background:"))return`${t.split(":")[1]} background`;if(t.startsWith("feature:")){const f=t.split(":")[1];return f==="Skill Proficiencies"?t==="feature:Skill Proficiencies"?"Background skill selection":"Class skill selection":["Tool Proficiencies","Equipment","Languages","Criminal Contact","Shelter of the Faithful","False Identity","By Popular Demand","Rustic Hospitality","Position of Privilege"].includes(f)?"Background feature":t.includes("Keen Senses")?"Elf keen senses":t.includes("Lucky")?"Halfling lucky":t.includes("Brave")?"Halfling brave":t.includes("Draconic Ancestry")?"Dragonborn ancestry":t.includes("Fey Ancestry")?"Elf fey ancestry":t.includes("Skill Proficiencies")?"Class skill selection":`${f} feature`}return t});return`${g} "${e.value}" is granted by multiple sources: ${u.join(", ")}`}function d(e){const l=bt(e);return l?`Go to the ${l.charAt(0).toUpperCase()+l.slice(1)} tab and select a different ${e.type} to resolve this conflict.`:"This conflict involves automatic grants. Consider changing your other selections."}L(()=>(x(),dt(c())),()=>{G(i,x().conflicts.filter(e=>e.affectedTabs?.includes(c())??!1))}),L(()=>a(i),()=>{a(i).length>0}),ft(),_t();var n=ot(),I=O(n);{var Y=e=>{var l=xt(),g=h(l),u=h(g),t=y(h(u),2),f=h(t,!0);o(t),o(u);var q=y(u,2);{var K=$=>{var P=Ct(),S=O(P);gt(S,5,()=>a(i),mt,(U,k)=>{var w=yt(),N=h(w),V=h(N,!0);o(N);var T=y(N,2),Z=y(h(T));o(T),o(w),H((J,Q)=>{E(V,J),E(Z,` ${Q??""}`)},[()=>(a(k),D(()=>_(a(k)))),()=>(a(k),D(()=>d(a(k))))]),b(U,w)}),o(S),ht(2),b($,P)};z(q,$=>{a(r)&&$(K)})}o(g),o(l),H(()=>E(f,a(r)?"−":"+")),ut("click",u,s),b(e,l)};z(I,e=>{a(i),D(()=>a(i).length>0)&&e(Y)})}b(C,n),ct(),v()}export{Ft as C,Bt as h};
